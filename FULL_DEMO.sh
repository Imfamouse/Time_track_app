#!/bin/bash
# ĞŸĞ¾Ğ»Ğ½Ğ°Ñ Ğ´ĞµĞ¼Ğ¾Ğ½ÑÑ‚Ñ€Ğ°Ñ†Ğ¸Ñ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹ Time Track App

clear
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘          TIME TRACK APP - ĞŸĞĞ›ĞĞĞ¯ Ğ”Ğ•ĞœĞĞĞ¡Ğ¢Ğ ĞĞ¦Ğ˜Ğ¯ Ğ¤Ğ£ĞĞšĞ¦Ğ˜ĞĞĞĞ›Ğ¬ĞĞĞ¡Ğ¢Ğ˜           â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
sleep 1

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "1ï¸âƒ£  ĞŸĞ ĞĞ’Ğ•Ğ ĞšĞ Ğ¡Ğ¢ĞĞ¢Ğ£Ğ¡Ğ Ğ¡Ğ•Ğ Ğ’Ğ˜Ğ¡ĞĞ’"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Backend API:"
if curl -s http://localhost:8000/health > /dev/null; then
    echo "  âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ (Ğ¿Ğ¾Ñ€Ñ‚ 8000)"
else
    echo "  âŒ ĞĞ• ĞĞ¢Ğ’Ğ•Ğ§ĞĞ•Ğ¢"
fi

echo ""
echo "Frontend UI:"
if curl -s http://localhost:5173/ > /dev/null; then
    echo "  âœ… Ğ ĞĞ‘ĞĞ¢ĞĞ•Ğ¢ (Ğ¿Ğ¾Ñ€Ñ‚ 5173)"
else
    echo "  âŒ ĞĞ• ĞĞ¢Ğ’Ğ•Ğ§ĞĞ•Ğ¢"
fi
echo ""
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "2ï¸âƒ£  Ğ¡ĞŸĞ˜Ğ¡ĞĞš ĞŸĞ ĞĞ•ĞšĞ¢ĞĞ’"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
curl -s http://localhost:8000/api/projects | python3 -c "
import json, sys
projects = json.load(sys.stdin)
for i, p in enumerate(projects, 1):
    print(f\"  {i}. [{p['color']}] {p['name']:<35} - {p['description']}\")
"
echo ""
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "3ï¸âƒ£  Ğ¢Ğ•ĞšĞ£Ğ©ĞĞ¯ Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ ĞŸĞ Ğ’Ğ Ğ•ĞœĞ•ĞĞ˜"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
curl -s http://localhost:8000/api/stats?user_id=1 | python3 -c "
import json, sys
stats = json.load(sys.stdin)
print(f\"  ğŸ“Š ĞÑ‚Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ğ½Ğ¾ Ñ‡Ğ°ÑĞ¾Ğ²:\")
print(f\"     â€¢ Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ:    {stats['total_hours_today']:>6} Ñ‡\")
print(f\"     â€¢ ĞĞµĞ´ĞµĞ»Ñ:     {stats['total_hours_week']:>6} Ñ‡\")
print(f\"     â€¢ ĞœĞµÑÑÑ†:      {stats['total_hours_month']:>6} Ñ‡\")
print(f\"  ğŸ“ Ğ’ÑĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹: {stats['entries_count']}\")
print()
print('  ğŸ† Ğ¢Ğ¾Ğ¿ Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ñ‹ Ğ·Ğ° Ğ¼ĞµÑÑÑ†:')
for i, p in enumerate(stats['top_projects'], 1):
    bar = 'â–ˆ' * int(p['hours'])
    print(f\"     {i}. {p['project_name']:<30} {bar} {p['hours']} Ñ‡\")
"
echo ""
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "4ï¸âƒ£  Ğ˜Ğ¡Ğ¢ĞĞ Ğ˜Ğ¯ Ğ—ĞĞŸĞ˜Ğ¡Ğ•Ğ™ Ğ’Ğ Ğ•ĞœĞ•ĞĞ˜"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
curl -s http://localhost:8000/api/time-entries | python3 -c "
import json, sys
from datetime import datetime

entries = json.load(sys.stdin)
print(f\"  Ğ’ÑĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹: {len(entries)}\")
print()

for i, e in enumerate(entries[:5], 1):
    start = datetime.fromisoformat(e['start_time'].replace('Z', '+00:00'))
    status = 'ğŸŸ¢ Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ' if e['is_running'] else f\"âœ… {e['duration_minutes']} Ğ¼Ğ¸Ğ½\"
    print(f\"  {i}. [{e['id']}] {e['description'][:50]:<50}\")
    print(f\"        ĞŸÑ€Ğ¾ĞµĞºÑ‚: {e['project_id']} | ĞĞ°Ñ‡Ğ°Ğ»Ğ¾: {start.strftime('%d.%m %H:%M')} | {status}\")
    print()
"
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "5ï¸âƒ£  Ğ¡ĞĞ—Ğ”ĞĞĞ˜Ğ• ĞĞĞ’ĞĞ™ Ğ—ĞĞŸĞ˜Ğ¡Ğ˜"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "  Ğ¡Ğ¾Ğ·Ğ´Ğ°ĞµĞ¼ Ğ·Ğ°Ğ¿Ğ¸ÑÑŒ: 'ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ API Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸'..."
sleep 1

NEW_ENTRY=$(curl -s -X POST http://localhost:8000/api/time-entries \
  -H "Content-Type: application/json" \
  -d '{
    "project_id": 4,
    "description": "ĞŸĞ¾Ğ»Ğ½Ğ¾Ğµ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ğµ API Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸",
    "start_time": "2025-10-07T14:00:00"
  }')

echo "$NEW_ENTRY" | python3 -c "
import json, sys
entry = json.load(sys.stdin)
print(f\"  âœ… Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ ÑĞ¾Ğ·Ğ´Ğ°Ğ½Ğ° ÑƒÑĞ¿ĞµÑˆĞ½Ğ¾!\")
print(f\"     ID: {entry['id']}\")
print(f\"     ĞŸÑ€Ğ¾ĞµĞºÑ‚: {entry['project_id']}\")
print(f\"     ĞĞ¿Ğ¸ÑĞ°Ğ½Ğ¸Ğµ: {entry['description']}\")
print(f\"     Ğ¡Ñ‚Ğ°Ñ‚ÑƒÑ: {'Ğ’ Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ' if entry['is_running'] else 'Ğ—Ğ°Ğ²ĞµÑ€ÑˆĞµĞ½Ğ°'}\")
"
echo ""
sleep 2

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "6ï¸âƒ£  ĞĞ‘ĞĞĞ’Ğ›Ğ•ĞĞĞĞ¯ Ğ¡Ğ¢ĞĞ¢Ğ˜Ğ¡Ğ¢Ğ˜ĞšĞ"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
curl -s http://localhost:8000/api/stats?user_id=1 | python3 -c "
import json, sys
stats = json.load(sys.stdin)
print(f\"  ğŸ“ Ğ’ÑĞµĞ³Ğ¾ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹: {stats['entries_count']} (+1 Ğ½Ğ¾Ğ²Ğ°Ñ)\")
"
echo ""
sleep 1

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                    âœ… Ğ’Ğ¡Ğ• Ğ¤Ğ£ĞĞšĞ¦Ğ˜Ğ˜ Ğ ĞĞ‘ĞĞ¢ĞĞ®Ğ¢!                              â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "ğŸ¯ ĞŸÑ€Ğ¾Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ½Ñ‹Ğµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸:"
echo "   âœ… ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ ÑĞ¿Ğ¸ÑĞºĞ° Ğ¿Ñ€Ğ¾ĞµĞºÑ‚Ğ¾Ğ²"
echo "   âœ… Ğ¡Ñ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºĞ° Ğ¿Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸ Ñ Ğ°Ğ³Ñ€ĞµĞ³Ğ°Ñ†Ğ¸ĞµĞ¹"
echo "   âœ… ĞŸĞ¾Ğ»ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¸ÑÑ‚Ğ¾Ñ€Ğ¸Ğ¸ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹"
echo "   âœ… Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ½Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹"
echo "   âœ… ĞĞ²Ñ‚Ğ¾Ğ¼Ğ°Ñ‚Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ€Ğ°ÑÑ‡ĞµÑ‚ Ğ¼ĞµÑ‚Ñ€Ğ¸Ğº"
echo ""
echo "ğŸ“– Ğ”Ğ¾ĞºÑƒĞ¼ĞµĞ½Ñ‚Ğ°Ñ†Ğ¸Ñ API: http://localhost:8000/docs"
echo "ğŸ“‚ ĞŸĞ¾Ğ´Ñ€Ğ¾Ğ±Ğ½ĞµĞµ: REMOTE_ACCESS.md"
echo ""
